## Development Rules for landingpages Project

### Code Style & Quality

-   **Formatting:** Use Prettier. Run `npm run prettier:fix` to format code automatically.
-   **Linting:** Use ESLint. Run `npm run lint` to check for code quality issues.
-   **Combined Check:** Run `npm run quality` to execute both Prettier and ESLint.
-   **TypeScript:** Adhere to TypeScript best practices. Avoid `any` types where possible. Ensure type declarations are accurate.

### Build Process

-   **Bundler:** Webpack handles TypeScript compilation and HTML processing.
-   **Build Command:** Use `npm run build` for development builds and `npm run build:prod` for production builds.
-   **Output:** Compiled assets are placed in the `dist/` directory.
-   **HTML Processing:** All `.html` files within the `src/` directory are automatically found (using `glob`) and processed by `html-webpack-plugin`.
-   **Output Structure:** The directory structure within `src/` is mirrored in `dist/` for HTML files.
-   **Asset Paths:** Relative paths are used for assets (like the JavaScript bundle) in the generated HTML (`publicPath: 'auto'`).
-   **Clean Build:** The `dist/` directory is cleaned before each build (`output.clean: true`).
-   **JS Target:** TypeScript is compiled to `es2017` (defined in `tsconfig.json`).

### JavaScript Framework (Stimulus)

-   **Framework:** Use Stimulus for client-side JavaScript interactivity.
-   **Controller Location:** Stimulus controllers (TypeScript files) must reside within the `src/controllers/` directory or its subdirectories.
-   **Controller Naming:** Follow the standard Stimulus naming convention based on the file path relative to `src/controllers/`. For a controller at `src/controllers/folder/modal_controller.ts`, the identifier is `folder--modal` (used as `data-controller="folder--modal"`). This mapping is handled by `@hotwired/stimulus-webpack-helpers`.
-   **Global Access:** Access the Stimulus application instance via `window.Stimulus`. A global type declaration (`src/types/global.d.ts`) ensures TypeScript recognizes this.

### Environment

-   **Node.js Version:** Use the Node.js version specified in the `.nvmrc` file. Run `nvm use` in the project root to activate the correct version.

### File Structure

-   `src/`: Contains all source code (`.ts`, `.html`).
    -   `src/controllers/`: Contains Stimulus controller files.
    -   `src/types/`: Contains custom TypeScript declaration files (e.g., `global.d.ts`).
-   `dist/`: Contains the compiled output, mirroring the structure of `src/` for HTML files.
-   **Root:** Configuration files (`package.json`, `webpack.config.js`, `tsconfig.json`, `eslint.config.mjs`, `.nvmrc`, `.prettierrc` - if added, etc.) reside at the project root.
